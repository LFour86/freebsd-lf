# =========================
#  System & Storage
# =========================
zfs_load="YES"                                  # Loads ZFS kernel module
cryptodev_load="YES"                            # Loads kernel cryptographical support
aesni_load="YES"                                # Loads AES-NI hardware acceleration module
geom_eli_load="YES"                             # Loads GEOM Eli module (disk encryption)
security.bsd.allow_destructive_dtrace=0         # Prevents DTrace from performing destructive actions
kern.geom.label.disk_ident.enable="0"           # Disables disk identification labels
kern.geom.label.gptid.enable="0"                # Disables GPT ID labels
nullfs_load="YES"                               # Loads nullfs (loopback file system) module

# =========================
#  CPU / ACPI
# =========================
amdtemp_load="YES"                              # Loads temperature sensor driver for AMD CPUs
acpi_video_load="YES"                           # Loads ACPI video extension driver (brightness/etc)
acpi_ibm_load="YES"                             # Loads ThinkPad-specific ACPI extras
hw.acpi.reset_video="1"                         # Attempts to reset video adapter on resume
vmm_load="YES"                                  # Loads hypervisor (bhyve) support
hw.vmm.amdvi.enable="1"                         # Enables AMD-Vi (IOMMU) for VM hardware passthrough

# =========================
#  GPU Drivers (choose ONE stack)
# =========================
# --- NVIDIA ---
hw.nvidiadrm.modeset="1"                        # Enables NVIDIA KMS (Kernel Mode Setting)
hw.nvidia.registry.EnableGpuFirmware=1          # Enables NVIDIA GSP firmware usage

# --- AMD (alternative) ---
#amdgpu_load="YES"                              # AMD GPU driver

# =========================
#  Linux Compatibility
# =========================
linux64_enable="YES"                            # Loads 64-bit Linux ABI at boot
linux_enable="YES"                              # Loads 32-bit Linux ABI at boot

# =========================
#  Networking Options
# =========================
# - TCP Stack Enhancements
tcp_bbr_load="YES"                              # Loads BBR congestion control module
tcp_rack_load="YES"                             # Loads RACK TCP stack module

# - Wireless Driver
if_bwi_load="YES"                               # Loads Broadcom BCM43xx wireless driver
if_bwn_load="YES"                               # Loads Broadcom LP-PHY wireless driver

# - USB tethering
if_urndis_load="YES"                            # Support for Android USB RNDIS tethering
if_cdce_load="YES"                              # Support for Generic USB Ethernet (CDC ECM)
if_ipheth_load="YES"                            # Support for iPhone USB tethering

# =========================
#  USB Drivers
# =========================
hw.usb.usbhid.enable=1                          # Enables USB HID transport layer
usbhid_load="YES"                               # Loads USB HID driver

# =========================
#  Bluetooth
# =========================
ubtbcmfw_load="YES"                             # Loads Broadcom Bluetooth firmware downloader
ng_ubt_load="YES"                               # Loads Netgraph Bluetooth USB driver
ng_btsocket_load="YES"                          # Loads Netgraph Bluetooth sockets

# =========================
#  Sound
# =========================
snd_hda_load="YES"                              # Loads High Definition Audio driver
snd_uaudio_load="YES"                           # Loads USB Audio driver

# =========================
#  Boot Performance & Behavior
# =========================
autoboot_delay="3"                              # Sets boot menu timeout to 3 seconds
boot_mute="YES"                                 # Mutes boot messages for a cleaner startup
debug.acpi.disabled="thermal"                   # Disables ACPI thermal zone debugging
rc_startmsgs="NO"                               # Hides service startup messages
dhclient_flags="-q"                             # Runs DHCP client in quiet mode
background_dhclient="YES"                       # Enables background DHCP at boot level
synchronous_dhclient="YES"                      # Ensures dhclient starts synchronously
defaultroute_delay="0"                          # Removes wait time for default route
defaultroute_carrier_delay="1"                  # Seconds to wait for carrier before routing

# =========================
#  SYSTEM RESOURCE TUNING
# =========================
kern.hz=1000                                    # Sets kernel clock rate (standard for desktop)
kern.racct.enable=1                             # Enables resource accounting
kern.maxdsiz="4G"                               # Limits maximum process data segment size
net.inet.tcp.bbr.hash_size=2048                 # Sets BBR hash table size
kern.ipc.shm_allow_removed=1                    # Allows IPC shared memory to be marked for deletion
