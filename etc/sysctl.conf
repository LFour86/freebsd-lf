# =========================
#  ZFS and File Systems
# =========================
vfs.zfs.vdev.min_auto_ashift=12                         # Forces 4K sector alignment for ZFS (SSD optimization)

# =========================
#  Security
# =========================
security.bsd.see_other_uids=1                           # Allows users to see processes owned by others
security.bsd.see_other_gids=0                           # Restricts users from seeing processes of other groups
security.bsd.see_jail_proc=0                            # Prevents jailed processes from seeing outside processes
security.bsd.unprivileged_read_msgbuf=0                 # Prevents non-root users from reading kernel log buffer
security.bsd.unprivileged_proc_debug=1                  # Allows unprivileged users to debug their own processes
kern.randompid=1                                        # Randomizes PIDs to prevent process tracking
kern.corefile=/var/coredump/%N-%P.core                  # Sets naming pattern and path for crash dump files

# =========================
#  Linux Compatibility
# =========================
compat.linux.osrelease=6.19.3                           # Reports a specific Linux kernel version to apps

# =========================
#  Power Management
# =========================
hw.acpi.lid_switch_state=S3                             # Action when lid is closed
hw.acpi.sleep_button_state=S3                           # Action for sleep button

# =========================
#  Media Hardware
# =========================
hw.snd.default_auto=2                                   # Automatically assign new audio devices
hw.snd.default_unit=5                                   # Sets the default audio output device unit

# =========================
#  Desktop Responsiveness
# =========================
#kern.sched.preempt_thresh=128                          # Higher threshold for desktop interactivity (Default: 40)
#kern.sched.slice=3                                     # Time slice for process scheduler (Default: 12)
vfs.usermount=1                                         # Allows non-root users to mount file systems

# =========================
#  Network & TCP Optimization
# =========================
net.inet.tcp.functions_default=bbr                      # Sets BBR as the default TCP congestion control
net.inet.tcp.bbr.cwnd.initwin=32                        # Sets initial TCP congestion window size
net.inet.tcp.fastopen.server_enable=1                   # Enables TCP Fast Open for server side
net.inet.tcp.fastopen.client_enable=1                   # Enables TCP Fast Open for client side
net.inet.tcp.syncookies=1                               # Enables protection against SYN flood attacks
net.inet.ip.redirect=0                                  # Disables sending ICMP redirects
net.inet.ip.forwarding=1                                # Enables IP forwarding (routing/hotspot functionality)
net.inet.ip.portrange.randomized=1                      # Randomizes ephemeral port selection for security
net.inet.tcp.msl=30000                                  # Maximum Segment Lifetime (faster connection cleanup)
net.inet.tcp.bbr.startup.loss_threshold=3000            # Configures BBR loss tolerance

